# Dungeon - Nukkit地下城插件

## 项目简介

Dungeon是一个基于Nukkit服务器的地下城RPG插件，为Minecraft服务器提供丰富的地下城冒险体验。插件包含怪物刷新、资源生成、装备升级、队伍系统等核心功能。

## 功能特性

### 🏰 地下城系统
- 自动生成地下城世界
- 智能怪物刷新机制
- 随机资源容器生成
- 自定义地下城结构

### ⚔️ RPG系统
- 玩家等级系统
- 装备升级机制
- 经验和经济奖励
- 等级压制机制

### 👥 队伍系统
- 多人队伍支持
- 队伍数据管理
- 团队协作功能

### 🎯 物品系统
- 自定义魔法物品
  - 魔法石 (Magic Stone)
  - 魔法石碎片 (Magic Stone Fragment)
  - 传送魔法卷轴 (Teleport Magic Scroll)
- 自定义合成配方

## 安装要求

### 必需插件
- **Nukkit-MOT** 服务器 (支持1.0.0 API)
- **EconomyAPI** - 经济系统依赖

### 可选插件
- **Tips** - 支持变量显示功能

### 环境要求
- Java 17+
- Maven 构建工具

## 安装指南

### 1. 编译构建
```bash
mvn clean package
```

### 2. 安装插件
1. 将生成的 `Dungeon-1.0-SNAPSHOT.jar` 放入Nukkit服务器的 `plugins` 目录
2. 启动服务器，插件将自动生成配置文件
3. 重新启动服务器完成安装

## 配置说明

### 完整配置文件 (config.yml)

```yaml
# 基础设置
command: "rpg"
地下城世界: "dungeon"

# 掉落系统
掉落材料: { 's_rpg:magic_stone_fragment': 1.0 }
等级原掉落材料倍率: 1.5
等级击杀经验倍率: 10.0

# 玩家升级系统
玩家升级经验倍率: 1.2
玩家升级经济倍率: 1.2
玩家升级需要经验: 1000
玩家升级需要经济: 10000.0

# 装备升级系统
装备升级材料: { 's_rpg:magic_stone': 10 }
装备升级材料倍率: 1.2
装备升级经济倍率: 1.2
装备升级需要经济: 1000.0

# 属性提升
剑每级提升攻击: 2.0
盔甲每级提升血量: 2.0
等级压制倍率: 0.2

# 怪物设置
玩家刷新最大范围: 500
怪物最低等级: 1
怪物最高等级: 50
怪物等级浮动: 5

# 刷怪机制
刷怪检测范围: 48
刷怪检测数量: 15
刷怪检测间隔: 20
刷怪清理范围: 64
刷怪清理最大范围: 128
刷怪范围: 32
安全区域半径: 24

# 怪物类型 (权重越高刷新概率越大)
刷怪类型:
  - { 名称: 骷髅, 类型: Skeleton, 权重: 100 }
  - { 名称: 爬行者, 类型: Creeper, 权重: 40 }
  - { 名称: 僵尸, 类型: Zombie, 权重: 60 }
  - { 名称: 蜘蛛, 类型: Spider, 权重: 40 }
  - { 名称: 洞穴蜘蛛, 类型: CaveSpider, 权重: 40 }
  - { 名称: 末影人, 类型: Enderman, 权重: 40 }
  - { 名称: 女巫, 类型: Witch, 权重: 30 }
  - { 名称: 烈焰人, 类型: Blaze, 权重: 25 }
  - { 名称: 岩浆怪, 类型: MagmaCube, 权重: 20 }
  - { 名称: 恶魂, 类型: Ghast, 权重: 15 }
  - { 名称: 凋灵骷髅, 类型: WitherSkeleton, 权重: 40 }
  - { 名称: 僵尸猪人, 类型: ZombiePigman, 权重: 80 }
  - { 名称: 幻翼, 类型: Phantom, 权重: 30 }
  - { 名称: 掠夺者, 类型: Pillager, 权重: 55 }
  - { 名称: 卫道士, 类型: Vindicator, 权重: 40 }
  - { 名称: 唤魔者, 类型: Evoker, 权重: 15 }
  - { 名称: 劫掠兽, 类型: Ravager, 权重: 10 }
  - { 名称: 潜影贝, 类型: Shulker, 权重: 20 }
  - { 名称: 恼鬼, 类型: Vex, 权重: 25 }
  - { 名称: 流浪者, 类型: Stray, 权重: 35 }
  - { 名称: 尸壳, 类型: Husk, 权重: 40 }
  - { 名称: 溺尸, 类型: Drowned, 权重: 40 }
  - { 名称: 猪灵, 类型: Piglin, 权重: 50 }
  - { 名称: 猪灵蛮兵, 类型: PiglinBrute, 权重: 15 }
  - { 名称: 凋灵, 类型: Wither, 权重: 1 }
  - { 名称: 末影龙, 类型: EnderDragon, 权重: 1 }
  - { 名称: 蠹虫, 类型: Silverfish, 权重: 5 }

# 物品刷新
物品刷新概率: 0.5

# 容器物品 (权重越高出现概率越大)
容器物品:
  - { 物品: "s_rpg:magic_stone_fragment", 最小数量: 1,最大数量: 3,权重: 100 }
  - { 物品: "s_rpg:tp_magic_scroll", 最小数量: 1,最大数量: 1,权重: 10 }
  - { 物品: "minecraft:elytra", 最小数量: 1,最大数量: 1,权重: 1 }
  - { 物品: "minecraft:torch", 最小数量: 1,最大数量: 64,权重: 50 }
  - { 物品: "minecraft:totem_of_undying", 最小数量: 1,最大数量: 1,权重: 10 }
  - { 物品: "minecraft:experience_bottle", 最小数量: 1,最大数量: 16,权重: 30 }
  - { 物品: "minecraft:diamond", 最小数量: 1,最大数量: 5,权重: 20 }
  - { 物品: "minecraft:netherite_ingot", 最小数量: 1,最大数量: 1,权重: 8 }
  - { 物品: "minecraft:oak_planks", 最小数量: 1,最大数量: 64,权重: 120 }
  - { 物品: "minecraft:golden_carrot", 最小数量: 1,最大数量: 16,权重: 30 }
```

### 配置说明

#### 基础设置
- `command` - 插件主命令 (默认为 "rpg")
- `地下城世界` - 地下城世界名称 (默认为 "dungeon")

#### 掉落与升级系统
- `掉落材料` - 怪物掉落物品配置
- `玩家升级系统` - 等级、经验、经济相关设置
- `装备升级系统` - 装备升级所需材料和消耗

#### 属性系统
- 武器和护甲每级属性提升
- 等级压制机制

#### 刷怪机制
- 智能刷怪检测和清理系统
- 多种怪物类型，支持权重配置
- 安全区域保护机制

#### 物品系统
- 自定义容器物品和刷新概率
- 支持多种原版和自定义物品


## 命令使用

### 主命令
```
/rpg form - 打开地下城主菜单
```

### 管理员命令
```
/rpg reload - 重新加载配置文件
/rpg setlevel - 设置玩家等级
/rpg setexp - 设置玩家经验
```

## 物品说明

### 魔法石 (Magic Stone)
- 用途：装备升级核心材料
- 获取：合成或地下城探索

### 魔法石碎片 (Magic Stone Fragment)
- 用途：合成魔法石
- 获取：怪物掉落

### 传送魔法卷轴 (Teleport Magic Scroll)
- 用途：快速传送道具
- 获取：地下城容器随机生成

## 开发信息

### 技术栈
- **Nukkit-MOT API** - Minecraft服务器框架
- **Maven** - 项目构建管理
- **Lombok** - Java开发工具
- **Banana** - 工具库依赖

## 开发团队

- **作者**: szzz666
- **联系方式**: QQ群 894279534

## 许可证

本项目基于Nukkit插件开发规范，遵循相关开源协议。

## 问题反馈

如果在使用过程中遇到任何问题或有功能建议，请通过以下方式联系：
- 加入QQ群：894279534
- 提交Issue到项目仓库

---

**注意**: 本插件需要EconomyAPI支持，请确保已正确安装相关依赖插件。